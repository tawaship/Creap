/*!
 * Creap.js - v1.1.0
 * 
 * @requires pixi.js v4.4.3 | 4.5.1
 * @requires howler.core.js v2.0.1
 * @requires Ease.js
 * @author makazu.mori@gmail.com (tawaship)
 * @copylight (c) tawaship
 * @license MIT License
 */
var createjs,Creap;console.log("\r\n%c  Creap.js %c v1.1.0  %c\r\n\r\n","color: #FFF; background: #06F; padding: 5px; border-radius:12px 0 0 12px;","color: #FFF; background: #F33; padding: 5px;  border-radius:0 12px 12px 0;","padding: 5px;"),function(){var t,e,r,s,a,n=!0,o=(navigator.userAgent.match(/Android/i),null!==navigator.userAgent.match(/iPhone/i)||null!==navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i),window.innerWidth),c=window.innerHeight,p={mousedown:"mousedown",pressup:"pressup",pressmove:"pressmove",pointerdown:"pointerdown",pointerup:"pointerup",pointermove:"pointermove",pointerupoutside:"pointerupoutside",click:"click",complete:"complete",end:"end"},u="px",l="#",f=",",d={attach:"attach",initialized:"initialized",built:"built",started:"started",stopped:"stopped"},_={mousedown:"_"+p.mousedown,pressup:"_"+p.pressup,pressmove:"_"+p.pressmove,click:"_"+p.click};Object.defineProperties(window,{exportRoot:{get:function(){return s},set:function(t){}},stage:{get:function(){return a},set:function(t){}},playSound:{value:function(t,e){return createjs.Sound.play(t,0,0,0,e)}}}),function(){function i(t,e,i){t[e]=t[e]||[],t[e].indexOf(i)>-1||t[e].push(i)}function r(t,e,i){var r;t[e]=t[e]||[],-1!==(r=t[e].indexOf(i))&&t[e].splice(r,1)}function s(t,e){var i;e instanceof createjs.Event||(e=new createjs.Event(e)),i=t[e.type]||[];for(var r=0;r<i.length;r++)i[r].call(this,e);return this}(e=function(t){this.target=t,this.events={},this.systemEvents={}}).prototype=Object.defineProperties({},{on:{value:function(t,e){return i(this.systemEvents,t,e),this.target}},off:{value:function(t,e){return r(this.systemEvents,t,e),this.target}},emit:{value:function(t){return s.call(this.target,this.systemEvents,t),this.target}}}),(t=function(){this._creap=this._creap||new e(this)}).prototype=Object.defineProperties({},{constructor:{value:t},on:{value:function(t,e){return i(this._creap.events,t,e),this}},off:{value:function(t,e){return r(this._creap.events,t,e),this}},emit:{value:function(t){return s.call(this,this._creap.events,t),this}},addEventListener:{value:function(t,e){return this.on(t,e)}},removeEventListener:{value:function(t,e){return this.off(t,e)}},removeAllEventListeners:{value:function(t){return(t=t||"")?this._creap.events[t]=[]:this._creap.events={},this}},dispatchEvent:{value:function(t){return this.emit(t)}}})}(),Creap=function(){var e,l,f,g,v,m,w,y;return function(){var t=eval;(e=function(){}).prototype=Object.defineProperties({},{constructor:{value:e},load:{value:function(e,i){var r,s=0,a=this;(e=e||[])instanceof Array||(e=[e]),i=i||function(){};for(var n=0;n<e.length;n++)(r=new XMLHttpRequest).addEventListener("readystatechange",function(){4==this.readyState&&(t(this.responseText),++s===e.length&&i.call(a))},!1),r.open("GET",e[n]),r.send();return this}},loadContent:{value:function(e,i){var r,s=0,a=this,n={};(e=e||[])instanceof Array||(e=[e]),i=i||function(){};for(var o=0;o<e.length;o++)(r=new XMLHttpRequest).addEventListener("readystatechange",function(r){return function(){4==this.readyState&&(t(this.responseText),n[r.name]=new Creap.Content(r.lib,r.root,r.images,r.ss,r.basePath),++s===e.length&&i.call(a,n))}}(e[o]),!1),r.open("GET",e[o].path),r.send();return this}}})}(),function(){function t(t){var e=[];for(var i in t)e.push(encodeURIComponent(i).replace(/%20/g,"+")+"="+encodeURIComponent(t[i]).replace(/%20/g,"+"));return e.join("&")}(f=function(t,e,r,s,a){var n;for(this._lib=window[t],this._root=window[t][e],this._img=window[r],this._ss=window[s],this._images={},this._sounds={},this._ssMetadata={},this._basePath=a||"./",this._basePath=this._basePath.replace(/([^/])$/,"$1/"),this._relatedContents=[this],this._defineVars={},this._replaceMovieClips={},n=this._lib.ssMetadata,i=0;i<n.length;i++)this._ssMetadata[n[i].name]=!0;for(n=this._lib.properties.manifest,i=0;i<n.length;i++)n[i].id in this._ssMetadata?this._images[n[i].id]=this._basePath+n[i].src.replace(/(\.gif|\.png|\.jpg)($|\?.*)/,".cp.json$2"):n[i].src.match(/(gif|png|jpg)/)?this._images[n[i].id]=this._basePath+n[i].src.replace(/(gif|png|jpg)($|\?.*)/,"$1$2"):this._sounds[n[i].id]=this._basePath+n[i].src.replace(/(mp3|wav)($|\?.*)/,"$1$2");window[t]={},window[r]={},window[s]={}}).prototype=Object.defineProperties({},{constructor:{value:f},createJson:{value:function(e,i){var r,s=v.parse(this._lib.ssMetadata);e=(e=e||"images/").replace(/([^/])$/,"$1/"),i=i||"./ssJsonMaker.php";for(var a=0;a<s.length;a++)s[a].name=this._basePath+e+s[a].name,(r=new XMLHttpRequest).open("POST",i,!1),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(t(s[a]));return this}},spriteToBitmap:{value:function(t,e){var i=this._img;return(this._lib[t]=function(){this.initialize(i[e])}).prototype=new createjs.Bitmap,this}},disabledImages:{value:function(t){(t=t||[])instanceof Array||(t=[t]);for(var e=0;e<t.length;e++)t[e]in this._images&&delete this._images[t[e]];return this}},defineVars:{value:function(t){t=t||{};for(var e in t)this._defineVars[e]=t[e];return this}},defineImages:{value:function(t){t=t||{};for(var e in t)e in this._ssMetadata?this._images[e]=t[e].replace(/(\.gif|\.png|\.jpg)($|\?.*)/,".cp.json$2"):this._images[e]=t[e];return this}},defineSounds:{value:function(t){t=t||{};for(var e in t)this._sounds[e]=t[e];return this}},replaceClips:{value:function(t){t=t||{};for(var e in t)t[e]instanceof g&&(this._replaceMovieClips[e]=t[e]);return this}}})}(),function(){function e(t,e,i,s,a){var n,o,c,p,l,_,v,m;(o=new PIXI.Application(t._lib.properties.width,t._lib.properties.height,{transparent:!0,antialias:!0,resolution:i/t._lib.properties.width},!a)).stage=new r,o.ticker,c=e.appendChild(document.createElement("div")),p=o.view,l=new PIXI.loaders.Loader,m=0,this.content=t,this.container=e,this.wrapper=c,this.app=o,this.view=p,this.view.style.width=this.view.width+u,this.view.style.height=this.view.height+u,this.wrapper.style.marginLeft=0+u,this.wrapper.style.marginTop=0+u,this.stage=o.stage;for(_ in t._replaceMovieClips)if((n=this.content._replaceMovieClips[_])instanceof g&&n._content instanceof f&&_ in t._lib&&n._name in n._content._lib){for(v in n._content._ssMetadata)t._ssMetadata[v]=n._content._ssMetadata[v];for(v in n._content._images)t._images[v]=n._content._images[v];t._relatedContents.push(n._content),t._lib[_]=n._content._lib[n._name]}for(_ in t._sounds)new Howl({src:t._sounds[_],onload:function(t){return function(){createjs.Sound._creapStatic.register(t,this)}}(_),pool:100});this.hide(),c.appendChild(p),o.stop(),o.ticker.speed=t._lib.properties.fps/60,o.ticker.addOnce(function(){o.stage.removeChildren()});for(_ in t._images)++m,l.add(_,t._images[_],{crossOrigin:!0});m?l.load(function(e,i){var r;for(_ in i)for(v=0;v<t._relatedContents.length;v++)(r=t._relatedContents[v])._ss[_]=r._img[_]=i[_];if(s)for(_=0;_<t._relatedContents.length;_++){r=t._relatedContents[_];for(v in r._lib)h=r._lib[v],(h.prototype instanceof createjs.Sprite||h.prototype instanceof createjs.Bitmap)&&(h=new r._lib[v],h.x=99999,h._creap.emit(d.attach),this.stage.addChild(h))}o.ticker.update(),this.isInitialized=!0,this.emit(d.initialized)}.bind(this)):(o.ticker.update(),setTimeout(function(){this.isInitialized=!0,this.emit(d.initialized)}.bind(this),10))}(l=function(i,r,s){this instanceof l&&i instanceof f&&(t.call(this),s=s||{},this.isInitialized=!1,this.isBuilt=!1,this.isStarted=!1,this._isFirstPlay=!0,e.call(this,i,r||document.body,s.width||i._lib.properties.width,!1!==s.usePreRender,!1!==s.useWebGL))}).prototype=Object.defineProperties(Object.create(t.prototype),{constructor:{value:l},start:{value:function(){var t,e,i,r;if(!this.isInitialized)return this.on(d.initialized,function(){this.start()}),this;if(this.isStarted)return this;this.show(),this.root=new this.content._root,this.isBuilt=!0,this.stage.interactive=!0;for(r in this.content._defineVars)this.root[r]=this.content._defineVars[r];return this.emit(d.built),e=[],this.stage.on(p.pointerdown,function(t){var r,s,a=i=t.target;if(this.mouseX=t.data.global.x,this.mouseY=t.data.global.y,a!==this)for(;;){if(t.currentTarget=a,r=createjs.MouseEvent._creapStatic.ref(p.mousedown,t),a._creap.empty||r.stopped||null===a.parent)break;if(s=a.parent,e.push(a),a.emit(_.mousedown,r),s===this)break;a=s}}),this.stage.on(p.pointermove,function(t){var s,a;for(this.mouseX=t.data.global.x,this.mouseY=t.data.global.y,t.target=i,r=0;r<e.length;r++)(a=e[r])._creap.empty||(t.currentTarget=a,s=createjs.MouseEvent._creapStatic.ref(p.pressmove,t),a.emit(_.pressmove,s))}),this.stage.on(p.pointerup,t=function(t){var s,a,n=t.target;for(t.target=i,r=0;r<e.length;r++)(a=e[r])._creap.empty||(t.currentTarget=a,i===n&&(s=createjs.MouseEvent._creapStatic.ref(p.click,t),a.emit(_.click,s)),s=createjs.MouseEvent._creapStatic.ref(p.pressup,t),a.emit(_.pressup,s));e=[],i=null}),this.stage.on(p.pointerupoutside,t),this.app.ticker.addOnce(function(){var t=0;this.stage.addChild(this.root),a=this.stage,s=this.root,this.root._creap.exec(),this._isFirstPlay&&(this._isFirstPlay=!1,this.app.ticker.add(function(e){!this.root||(t+=e)<1||(t-=1,a=this.stage,s=this.root,this.root._creap.clear(),this.root._creap.exec())}.bind(this)))}.bind(this)),this.isStarted=!0,this.app.start(),this.emit(d.started),this}},stop:{value:function(){return this.isInitialized&&this.isStarted?(this.emit(d.stopped),this.stage.removeAllListeners(),this.stage.removeChildren(),this.app.ticker.update(),this.root=null,this.pause(!0),this.hide(),this.isStarted=!1,this.isBuilt=!1,this):this}},pause:{value:function(t){return this.isInitialized?(this.stage.interactive=!t,t?this.app.stop():this.app.start(),this):this}},show:{value:function(){return this.wrapper.style.display="block",this}},hide:{value:function(){return this.wrapper.style.display="none",this}},fullScreen:{value:function(){return o/c>this.content._lib.properties.width/this.content._lib.properties.height?this.adjustHeight(c).toCenter():this.adjustWidth(o).toMiddle(),this}},adjustWidth:{value:function(t){return this.view.style.width=t+u,this.view.style.height=t/this.content._lib.properties.width*this.content._lib.properties.height+u,this}},adjustHeight:{value:function(t){return this.view.style.height=t+u,this.view.style.width=t/this.content._lib.properties.height*this.content._lib.properties.width+u,this}},toLeft:{value:function(t){return t=t||new m(0,0,o,c),this.wrapper.style.marginLeft=t.x+u,this}},toRight:{value:function(t){var e,i;return t=t||new m(0,0,o,c),e=this.getSize(),i=t.width-e.width,this.wrapper.style.marginLeft=i+t.x+u,this}},toCenter:{value:function(t){var e,i;return t=t||new m(0,0,o,c),e=this.getSize(),i=(t.width-e.width)/2,this.wrapper.style.marginLeft=i+t.x+u,this}},toTop:{value:function(t){return t=t||new m(0,0,o,c),this.wrapper.style.marginTop=t.y+u,this}},toBottom:{value:function(t){var e,i;return t=t||new m(0,0,o,c),e=this.getSize(),i=t.height-e.height,this.wrapper.style.marginTop=i+t.y+u,this}},toMiddle:{value:function(t){var e,i;return t=t||new m(0,0,o,c),e=this.getSize(),i=(t.height-e.height)/2,this.wrapper.style.marginTop=i+t.y+u,this}},getPosition:{value:function(){return new w(parseFloat(this.wrapper.style.marginLeft.replace(u,"")),parseFloat(this.wrapper.style.marginTop.replace(u,"")))}},getSize:{value:function(){return new y(parseFloat(this.view.style.width.replace(u,"")),parseFloat(this.view.style.height.replace(u,"")))}},getRect:{value:function(){return new m(parseFloat(this.wrapper.style.marginLeft.replace(u,"")),parseFloat(this.wrapper.style.marginTop.replace(u,"")),parseFloat(this.view.style.width.replace(u,"")),parseFloat(this.view.style.height.replace(u,"")))}},defineVars:{value:function(t){if(!this.isBuilt)return this.on("built",function(){this.defineVars(t),this.off("built",arguments.callee)}),this;for(var e in t)this.root[e]=t[e];return this}},defineImages:{value:function(t,e){var i=new PIXI.loaders.Loader,r=0;t=t||{};for(var s in t)++r,s in this.content._ssMetadata?i.add(s,t[s].replace(/(\.gif|\.png|\.jpg)($|\?.*)/,".cp.json$2"),{crossOrigin:!0}):i.add(s,t[s],{crossOrigin:!0});return e=e||function(){},r?i.load(function(t,i){for(s in i)this.content._ss[s]=this.content._img[s]=i[s];e()}.bind(this)):e(),this}}})}(),m=function(t,e,i,r){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0},w=function(t,e){this.x=t||0,this.y=e||0},y=function(t,e){this.width=t||0,this.height=e||0},g=function(t,e){this._content=t,this._name=e},function(){var t,e,i,r,s,a,n;t=function(t,e){this.w=t,this.h=e},e=function(t,e,i,r){this.x=t,this.y=e,this.w=i,this.h=r},i=function(t,e,i,a){this.frames=new s(t),this.meta=new r(e,i,a)},r=function(e,i,r){this.image=e,this.format="RGBA8888",this.size=new t(i,r),this.scale=1},s=function(t){for(var e in t)name="_"+e,this[name]=new a(t[e])},a=function(i){this.frame=new e(i[0],i[1],i[2],i[3]),this.rotated=!1,this.trimmed=!1,this.spriteSourceSize=new e(0,0,i[2],i[3]),this.sourceSize=new t(i[2],i[3])},n=function(t,e){this.name=t,this.data=e},Object.defineProperties(v=function(){},{parse:{value:function(t){for(var e=[],r=0;r<t.length;r++)e.push(new n(t[r].name+".cp.json",JSON.stringify(new i(t[r].frames,t[r].name+".png",4096,4096))));return e}}})}(),Object.defineProperties({},{Loader:{value:e},Application:{value:l},Content:{value:f},ReplaceData:{value:g},Rect:{value:m},Position:{value:w},Size:{value:y},options:{value:Object.defineProperties({},{isAccurateTarget:{get:function(){return n},set:function(t){n=t}}})}})}(),createjs=function(){var s,a,o,c,h,g,v,m,w,y,P,b,j,k,O,x,C,F,L,I,X=Math.PI/180,S=180/Math.PI,T=createjs.Ease.get(0),A={mousedown:p.mousedown,pressup:p.pressup,pressmove:p.pressmove,click:p.click},M={pointerdown:p.pointerdown,pointerup:p.pointerup,pointermove:p.pointermove,pointerupoutside:p.pointerupoutside},Y=null;return function(){var E,z=Object.getOwnPropertyDescriptor(PIXI.DisplayObject.prototype,"mask");(I=function(){}).prototype=Object.defineProperties({},{_off:{value:function(t){this._off=t}},x:{value:function(t){this._creap.bindProp.s.x||(this.transform.position.x=t)}},y:{value:function(t){this._creap.bindProp.s.y||(this.transform.position.y=t)}},scaleX:{value:function(t){this._creap.bindProp.s.scaleX||(this.transform.scale.x=t)}},scaleY:{value:function(t){this._creap.bindProp.s.scaleY||(this.transform.scale.y=t)}},rotation:{value:function(t){this._creap.bindProp.s.rotation||(this.transform.rotation=t*X)}},skewX:{value:function(t){this._creap.bindProp.s.skewX||(this.transform.skew.x=-t*X)}},skewY:{value:function(t){this._creap.bindProp.s.skewY||(this.transform.skew.y=t*X)}},regX:{value:function(t){this._creap.bindProp.s.regX||(this.transform.pivot.x=t)}},regY:{value:function(t){this._creap.bindProp.s.regY||(this.transform.pivot.y=t)}},alpha:{value:function(t){this._creap.bindProp.s.alpha||(this._creap.alpha=t)}}}),(E=function(t){e.call(this),this.target=t,this.bindProp=new L,this.empty=!1,this.alpha=1,this.depthOffset=-1,this.isLayer=!1,this.tapped=null,this.parent=null,this.isDefined=!1,this.targetParent=null}).prototype=Object.defineProperties(Object.create(e.prototype),{reset:{value:function(){}},setMask:{value:function(t){z.set.call(this.target,t._creap.graphics)}},prop:{value:new I}}),(a=function(){this._creap=this._creap||new E(this),PIXI.Container.call(this)}).prototype=Object.defineProperties(Object.create(PIXI.Container.prototype),{constructor:{value:a},setTransform:{value:function(t,e,i,r,s,a,n,o,c){this._creap.prop.x.call(this,t||0),this._creap.prop.y.call(this,e||0),this._creap.prop.scaleX.call(this,0===i?0:i||1),this._creap.prop.scaleY.call(this,0===r?0:r||1),this._creap.prop.rotation.call(this,s||0),this._creap.prop.skewX.call(this,a||0),this._creap.prop.skewY.call(this,n||0),this._creap.prop.regX.call(this,o||0),this._creap.prop.regY.call(this,c||0)}},parent:{get:function(){return this._creap.parent},set:function(t){this._creap.parent=t,this._creap.isDefined||(this._creap.targetParent=t,t instanceof a&&(t._creap.preDefines.push(this),Y=t))}},mask:{get:function(){var t=z.get.call(this);return t&&t.parent},set:function(t){t._creap.maskTargets.push(this),this._creap.targetParent.addChild(t),t._creap.isLayer=!0,this._creap.setMask(t)}},_off:{get:function(){return this._creap.empty},set:function(t){this._creap.empty!==t&&(this._creap.empty=t,this._creap.empty?this._creap.targetParent._creap.removeLayer(this):(this._creap.reset(),this._creap.targetParent._creap.addLayerAt(this,this._creap.depthOffset)))}},dispatchEvent:{value:function(t){t instanceof createjs.Event||(t=new createjs.Event(t)),t.target=this,t.currentTarget=this,this.emit(_[t.type]||t.type,t)}},addEventListener:{value:function(t,e,i){return t in A&&(this.interactive=!0),this.on(_[t]||t,e),e}},removeEventListener:{value:function(t,e,i){this.off(_[t]||t,e)}},removeAllEventListeners:{value:function(t){var e,i;if(t=t||""){if(t in M)return;this.removeAllListeners(_[t]||t)}else for(e=this.eventNames(),i=0;i<e.length;i++)e[i]in M||this.removeAllListeners(e[i])}},x:{get:function(){return this.transform.position.x},set:function(t){this._creap.bindProp.t.x||(this.transform.position.x=t,this._creap.bindProp.s.x=!0)}},y:{get:function(){return this.transform.position.y},set:function(t){this._creap.bindProp.t.y||(this.transform.position.y=t,this._creap.bindProp.s.y=!0)}},scaleX:{get:function(){return this.transform.scale.x},set:function(t){this._creap.bindProp.t.scaleX||(this.transform.scale.x=t,this._creap.bindProp.s.scaleX=!0)}},scaleY:{get:function(){return this.transform.scale.y},set:function(t){this._creap.bindProp.t.scaleY||(this.transform.scale.y=t,this._creap.bindProp.s.scaleY=!0)}},rotation:{get:function(){return this.transform.rotation*S},set:function(t){this._creap.bindProp.t.rotation||(this.transform.rotation=t*X,this._creap.bindProp.s.rotation=!0)}},skewX:{get:function(){return-this.transform.skew.x*S},set:function(t){this._creap.bindProp.t.skewX||(this.transform.skew.x=-t*X,this._creap.bindProp.s.skewX=!0)}},skewY:{get:function(){return this.transform.skew.y*S},set:function(t){this._creap.bindProp.t.skewY||(this.transform.skew.y=t*X,this._creap.bindProp.s.skewY=!0)}},regX:{get:function(){return this.transform.pivot.x},set:function(t){this._creap.bindProp.t.regX||(this.transform.pivot.x=t,this._creap.bindProp.s.regX=!0)}},regY:{get:function(){return this.transform.pivot.y},set:function(t){this._creap.bindProp.t.regY||(this.transform.pivot.y=t,this._creap.bindProp.s.regY=!0)}},alpha:{get:function(){return this._creap.alpha},set:function(t){this._creap.bindProp.t.alpha||(this._creap.alpha=t,this._creap.isLayer&&(this._creap.bindProp.s.alpha=!0))}}}),(o=function(){this.spriteSheet=null}).prototype=Object.defineProperties(Object.create(a.prototype),{constructor:{value:o},gotoAndStop:{value:function(t){a.call(this),this.interactive=n,this.spriteSheet&&this._creap.on(d.attach,function(){this._creap.off(d.attach,arguments.callee),this.addChild(new PIXI.Sprite(this.spriteSheet.textures["_"+t]))})}}}),(v=function(){}).prototype=Object.defineProperties(Object.create(a.prototype),{constructor:{value:v},initialize:{value:function(t){a.call(this),this.interactive=n,t&&this._creap.on(d.attach,function(){this._creap.off(d.attach,arguments.callee),this.addChild(new PIXI.Sprite(t.texture))})}}}),function(){var t;(t=function(t){E.call(this,t),this.maskTargets=[],this.graphics=null}).prototype=Object.create(E.prototype),(h=function(){this._creap=new t(this),a.call(this),this.parent=Y,this.interactive=n}).prototype=Object.defineProperties(Object.create(a.prototype),{constructor:{value:h},graphics:{get:function(){return this._creap.graphics||(this.graphics=new g)},set:function(t){this._creap.graphics&&this.removeChild(this._creap.graphics),this._creap.graphics=t,this._creap.graphics&&this.addChild(this._creap.graphics)}}})}(),function(){var t,e;(t=function(t){E.call(this,t),this.definedLayerCount=0,this.definedMaskLayerCount=0,this.totalFrames=0,this.currentFrame=-1,this.preFrame=-1,this.isGoto=!1,this.isDone=!1,this.preDefines=[],this.onLayerCount=0,this.masks=[],this.prevScriptFrame=-1,this.isAttached=!1}).prototype=Object.defineProperties(Object.create(E.prototype),{reset:{value:function(){this.currentFrame=-1,this.target.paused=!1}},addLayerAt:{value:function(t,e){this.removeLayer(t),t._creap.emit(d.attach);for(var i=0;i<t._creap.targetParent.children.length;i++)if(e>t._creap.targetParent.children[i]._creap.depthOffset)return PIXI.Container.prototype.addChildAt.call(t._creap.targetParent,t,i),void t._creap.targetParent._creap.onLayerCount++;PIXI.Container.prototype.addChild.call(t._creap.targetParent,t),t._creap.targetParent._creap.onLayerCount++}},removeLayer:{value:function(t){t._creap.targetParent.children.indexOf(t)>-1&&(PIXI.Container.prototype.removeChild.call(t._creap.targetParent,t),t._creap.targetParent._creap.onLayerCount--)}},goto:{value:function(t,e){t=isNaN(t)?this.target.labels[t]||this.currentFrame:t,this.target.paused=!e,this.preFrame=t,this.isGoto=!0,this.exec()}},clear:{value:function(){var t;this.isDone=!1,this.preFrame=-1,this.isGoto=!1,this.prevScriptFrame=-1,t=this.target.children;for(var e=0;e<t.length;e++)t[e]instanceof c&&t[e]._creap.clear()}},exec:{value:function(){var t,e,i,r;if(this.target.tickEnabled)if(this.isGoto){if(this.currentFrame===this.preFrame&&this.isAttached)return void(this.isGoto=!1);this.currentFrame=this.preFrame,this.preFrame=-1,this.currentFrame>=this.totalFrames&&(this.currentFrame=0),this.totalFrames<2&&(this.target.paused=!0),this.isGoto=!1,this.currentFrame in this.target._creapProto.scripts._creap.frames&&this.prevScriptFrame!==this.currentFrame&&(this.prevScriptFrame=this.currentFrame,this.target._creapProto.scripts._creap.frames[this.currentFrame].call(this.target));for(t=0;t<this.target.timeline._creap.tweens.length;t++){i=this.target.timeline._creap.tweens[t]._creap.frames[this.currentFrame],(r=this.target.timeline._creap.tweens[t]._creap.target)._creap.depthOffset===i.depth||i.props._off||(r._creap.depthOffset=i.depth,this.addLayerAt(r,r._creap.depthOffset=i.depth));for(e in i.props)r._creap.prop[e].call(r,i.props[e])}for(t=0;t<this.target._creap.masks.length;t++)if(i=this.target._creap.masks[t]._creap.target,(r=this.target._creap.masks[t]._creap.frames[this.currentFrame]).graphics!==i._creap.graphics)for(i.graphics=r.graphics,i.x=r.x,i.y=r.y,e=0;e<i._creap.maskTargets.length;e++)i._creap.maskTargets[e]._creap.setMask(i);if(!this.isDone)return;for(t=0;t<this.target.children.length;t++)(r=this.target.children[t])instanceof c&&r._creap.exec()}else{if(!this.target.paused&&!this.isDone){if(++this.currentFrame>=this.totalFrames&&(this.currentFrame=0),this.totalFrames<2&&(this.target.paused=!0),this.currentFrame in this.target._creapProto.scripts._creap.frames&&this.prevScriptFrame!==this.currentFrame&&(this.prevScriptFrame=this.currentFrame,this.target._creapProto.scripts._creap.frames[this.currentFrame].call(this.target)),this.isGoto)return;for(t=0;t<this.target.timeline._creap.tweens.length;t++)if(!(i=this.target.timeline._creap.tweens[t]._creap.frames[this.currentFrame]).keep){(r=this.target.timeline._creap.tweens[t]._creap.target)._creap.depthOffset===i.depth||i.props._off||(r._creap.depthOffset=i.depth,this.addLayerAt(r,r._creap.depthOffset=i.depth));for(e in i.props)r._creap.prop[e].call(r,i.props[e])}for(t=0;t<this.target._creap.masks.length;t++)if(i=this.target._creap.masks[t]._creap.target,(r=this.target._creap.masks[t]._creap.frames[this.currentFrame]).graphics!==i._creap.graphics)for(i.graphics=r.graphics,i.x=r.x,i.y=r.y,e=0;e<i._creap.maskTargets.length;e++)i._creap.maskTargets[e]._creap.setMask(i)}for(t=0;t<this.target.children.length;t++)(r=this.target.children[t])instanceof c&&r._creap.exec();this.isDone=!0,this.isAttached=!0}}}}),e=function(){this.count=0,this.scripts=new b,this.tweens=[]},(c=function(){this._creapProto=new e}).prototype=Object.defineProperties(Object.create(a.prototype),{constructor:{value:c},initialize:{value:function(e,i,r,n){this._creap=new t(this),a.call(this),this._creapProto.count++,this.mode=e,this.startPosition=i,this.loop=r,this.labels=n,this.timeline=new s(this),this.tickEnabled=!0,this.paused=!1,Y=this}},currentFrame:{get:function(){return Math.max(this._creap.currentFrame,0)},set:function(t){}},totalFrames:{get:function(){return this._creap.totalFrames},set:function(t){}},addChild:{value:function(t){if(!t._creap.isLayer)return t._creap.emit(d.attach),PIXI.Container.prototype.addChild.call(this,t)}},addChildAt:{value:function(t,e){if(!(e>this.children.length||t._creap.isLayer))return t._creap.emit(d.attach),PIXI.Container.prototype.addChildAt.call(this,t,Math.min(e+this._creap.onLayerCount,this.children.length))}},removeChild:{value:function(t){if(!t._creap.isLayer)return PIXI.Container.prototype.removeChild.call(this,t)}},removeChildAt:{value:function(t){if(this.children[t]&&!this.children[t]._creap.isLayer)return PIXI.Container.prototype.removeChildAt.call(this,t)}},removeAllChildren:{value:function(){for(var t=[],e=0;e<this.children.length;e++)t.push(this.removeChild(this.children[e]));return t}},stop:{value:function(){this.paused=!0}},play:{value:function(){this.paused=!1}},gotoAndStop:{value:function(t){this._creap.goto(t,!1)}},gotoAndPlay:{value:function(t){this._creap.goto(t,!0)}}})}(),(k=function(t,e,i){var r,s=e.split(/\s/),o={};a.call(this),s[0].match(u)||(o.fontWeight=s.shift()),r=parseInt(s.shift().replace(u,"")),o.fontSize=10*r+u,o.fontFamily=s.join(" "),o.fill=i||0,this.instance=new PIXI.Text(t,o),this.instance.scale.x=this.instance.scale.y=.1,this.instance.y=r/10/6,this.addChild(this.instance),this.interactive=n}).prototype=Object.defineProperties(Object.create(a.prototype),{constructor:{value:k},lineHeight:{get:function(){return this.instance.style.lineHeight},set:function(t){this.instance.style.lineHeight=t/this.instance.scale.y/10,this.instance.style.padding=t<=0?(10-t)*this.instance.scale.y/10:10*this.instance.scale.y/10}},lineWidth:{get:function(){return this.instance.style.wordWrapWidth},set:function(t){this.instance.style.wordWrapWidth=t}},textAlign:{get:function(){return this.instance.style.align},set:function(t){switch(t){case"center":this.instance.x=-this.width/2;break;case"right":this.instance.x=-this.width;break;default:t="left",this.instance.x=0}this.instance.style.align=t}},text:{get:function(){return this.instance.text},set:function(t){this.instance.text=t||"",this.textAlign=this.textAlign}},color:{get:function(){return this.instance.style.fill},set:function(t){this.instance.style.fill=t||0}}}),function(){var t;t=function(t){this.target=t,this.tweens=[]},(s=function(e){this._creap=new t(e)}).prototype=Object.defineProperties({},{constructor:{value:s},addTween:{value:function(t){var e,i;if(t instanceof b)return this._creap.target._creap.totalFrames=t._creap.head,this._creap.target._creap.preDefines=[],void(t._creap.isReference=!0);if(t instanceof y)for(e=0;e<t._creap.tweenList.length;e++)this.addTween(t._creap.tweenList[e]);else{if(t instanceof P)return this._creap.target._creap.definedMaskLayerCount++,this._creap.target._creap.totalFrames=t._creap.head,void this._creap.target._creap.masks.push(t);for(e=0;e<this._creap.tweens.length;e++)if(this._creap.tweens[e]._creap.target===t._creap.target){for(i in t._creap.frames)t._creap.frames[i].depth=this._creap.tweens[e]._creap.frames[i].depth;return void(this._creap.tweens[e]=t)}t._creap.target._off=!0,t._creap.target._creap.depthOffset=this._creap.target._creap.definedLayerCount++,t._creap.target._creap.isDefined=!0,this._creap.target._creap.totalFrames=t._creap.head,this._creap.tweens.push(t),this._creap.target._creap.preDefines=[]}}}})}(),function(){var t,e;(t=function(t,e){this.target=t,this.frames=e,this.head=0,this.isReference=!1}).prototype=Object.defineProperties({},{ref:{value:function(t){t=t||0;var e=this.target._creap.targetParent._creapProto.tweens[this.target._creap.targetParent._creap.definedLayerCount+t]._creap;this.head=e.head,this.frames=e.frames,this.isReference=!0,this.target._creap.empty=e.target._creap.empty}}}),(e=function(t,e,i){this.props=t,this.keep=e,this.depth=i||0}).prototype=Object.defineProperties({},{constructor:{value:e}}),Object.defineProperties(w=function(i,r){this._creap=new t(i,{0:new e((new F).set(i.x,i.y,i.scale.x,i.scale.y,i.rotation,i.skewX,i.skewY,i.regX,i.regY,i.alpha,i._creap.empty),!1,i._creap.targetParent._creap.definedLayerCount+r)})},{get:{value:function(t,e){var i;return e=e||0,t instanceof a?t._creap.targetParent?t instanceof h&&null===t._creap.graphics?i=new P(t):(t._creap.isLayer=!0,t._creap.targetParent._creapProto.count>1?((i=new w(t,e))._creap.ref(e),i):(i=new w(t,e),t._creap.targetParent._creapProto.tweens.push(i),i)):t._creapProto.scripts:(i=new y(Y._creap.preDefines),Y._creapProto.count>1&&(i._creap.isReference=!0),i)}}}).prototype=Object.defineProperties({},{constructor:{value:w},to:{value:function(t,i,r,s){var a,n,o,c,h,p=!1;if(this._creap.isReference)return this;s=s||0;for(a in t)if("_off"!==a){p=!0;break}if(i&&p){for(this._creap.frames[this._creap.head]||(this._creap.frames[this._creap.head]=this._creap.frames[this._creap.head-1]),c=this._creap.frames[this._creap.head].props,r=r||T,a=1;a<=i;a++){h=new F,o=a/i;for(n in c)h[n]=n in t?"_off"===n?a<i?c[n]:t[n]:c[n]+(t[n]-c[n])*r(o):c[n];this._creap.frames[this._creap.head+a]=new e(h,!1,this._creap.target._creap.targetParent._creap.definedLayerCount+s)}for(a in t)this._creap.target._creap.bindProp.t[a]=!0;this._creap.head+=i}else{this.wait(i),c=this._creap.frames[this._creap.head-1].props,h=new F;for(a in c)a in t?(this._creap.target._creap.bindProp.t[a]=!0,h[a]=t[a]):h[a]=c[a];this._creap.frames[this._creap.head]=new e(h,!1,this._creap.target._creap.targetParent._creap.definedLayerCount+s)}return this}},wait:{value:function(t){if(this._creap.isReference||0===t)return this;if(t>1){this._creap.frames[this._creap.head]||(this._creap.frames[this._creap.head]=this._creap.frames[this._creap.head-1]),this._creap.frames[this._creap.head+1]=new e(this._creap.frames[this._creap.head].props,!0,this._creap.frames[this._creap.head].depth);for(var i=this._creap.head+2;i<this._creap.head+t;i++)this._creap.frames[i]=this._creap.frames[this._creap.head+1]}return this._creap.head+=t,this}}})}(),function(){var t;t=function(t){this.tweenList=[];for(var e=0;e<t.length;e++)t[e]._off||this.tweenList.push(w.get(t[e],e));this.isReference=!1},(y=function(e){this._creap=new t(e)}).prototype=Object.defineProperties({},{constructor:{value:y},to:{value:function(t,e){var i,r,s,a,n;if(e=e||0,this._creap.isReference)return this;for(i=0;i<this._creap.tweenList.length;i++){for(a=this._creap.tweenList[i],s=null,r=0;r<t.state.length;r++)if(t.state[r].t===a._creap.target){s=t.state[r],n=t.state.length-r-1;break}if(s){if(!e)continue;s.p?(s.p._off=!1,a.wait(e),a.to(s.p,0,null,n)):a.to({_off:!1},e,null,n)}else e?a.to({_off:!0},e,null,n):(a._creap.target._off=!0,a._creap.frames[0].props._off=!0)}return this}},wait:{value:function(t){if(this._creap.isReference)return this;for(i=0;i<this._creap.tweenList.length;i++)this._creap.tweenList[i].wait(t);return this}}})}(),function(){var t,e;t=function(t){this.target=t,this.frames={},this.head=0},(e=function(t,e,i){this.graphics=t,this.x=e||0,this.y=i||0}).prototype=Object.defineProperties({},{constructor:{value:e}}),(P=function(e){this._creap=new t(e)}).prototype=Object.defineProperties({},{constructor:{value:P},to:{value:function(t){return this._creap.frames[this._creap.head]=new e(t.graphics,t.x,t.y),this}},wait:{value:function(t){for(var e=1;e<t;e++)this._creap.frames[this._creap.head+e]=this._creap.frames[this._creap.head];return this._creap.head+=t,this}}})}(),function(){var t;t=function(){this.frames={},this.head=0,this.isDefined=!1},(b=function(){this._creap=new t}).prototype=Object.defineProperties({},{constructor:{value:b},call:{value:function(t){return this._creap.isDefined?this:(this._creap.frames[this._creap.head]=t,this)}},wait:{value:function(t){return this._creap.isDefined?this:(this._creap.head+=t,this)}}})}(),function(){function t(t){var e,i=1;if(t.match(l))e=parseInt(t.substr(1),16);else{var r=t.replace(/[a-z]|\(|\)/g,"").split(f);i=Number(r.pop()),e=parseInt(r.map(function(t){var e=parseInt(t).toString(16);return 1===e.length?"0"+e:e}).join(""),16)}return{color:e,alpha:i}}var e;e=function(){this.isLine=!1,this.isHole=!1},(g=function(t){this._creap=new e,PIXI.Graphics.call(this),this.beginFill("#000000")}).prototype=Object.defineProperties(Object.create(PIXI.Graphics.prototype),{constructor:{value:g},moveTo:{value:function(t,e){return PIXI.Graphics.prototype.moveTo.call(this,t,e),this.containsPoint({x:t,y:e})&&(this._creap.isHole=!0),this}},closePath:{value:function(){return this._creap.isHole&&this.addHole(),this._creap.isHole=!1,this}},beginFill:{value:function(e){var i;return PIXI.Graphics.prototype.closePath.call(this),e?(i=t(e),PIXI.Graphics.prototype.beginFill.call(this,i.color,i.alpha)):PIXI.Graphics.prototype.beginFill.call(this,0,0),this}},beginStroke:{value:function(e){var i;return e&&(this._creap.isLine=!0,i=t(e),this.lineStyle(1,i.color,i.alpha)),this}},setStrokeStyle:{value:function(t,e,i,r,s){return this.nativeLines=s||!1,this.lineWidth=t,this}},curveTo:{value:function(t,e,i,r,s,a){return this.bezierCurveTo(this.currentPath.shape.points[this.currentPath.shape.points.length-2],this.currentPath.shape.points[this.currentPath.shape.points.length-1],t,e,i,r),this}}})}(),(m=function(){}).prototype=Object.defineProperties({},{constructor:{value:m}}),Object.defineProperties(F=function(t){},{create:{value:function(t){var e=new F;return e.x=e.y=e.scaleX=e.scaleY=e.rotation=e.skewX=e.skewY=e.regX=e.regY=e.alpha=e._off=t,e}}}).prototype=Object.defineProperties({},{constructor:{value:F},set:{value:function(t,e,i,r,s,a,n,o,c,h,p){return this.x=t||0,this.y=e||0,this.scaleX=0===i?0:i||1,this.scaleY=0===r?0:r||1,this.rotation=s||0,this.skewX=a||0,this.skewY=n||0,this.regX=o||0,this.regY=c||0,this.alpha=h||0,this._off=p||!1,this}}}),L=function(){this.t=F.create(!1),this.s=F.create(!1)},function(){var i,r;(r=function(){this.audios={}}).prototype=Object.defineProperties({},{register:{value:function(t,e){this.audios[t]=e}}}),(i=function(t){e.call(this),this.audio=t}).prototype=Object.create(e.prototype),Object.defineProperties(j=function(e){this._creap=new i(e),t.call(this)},{_creapStatic:{value:new r},play:{value:function(t,e,i,r,s,a,n,o,c){var h,p;if((h=this._creapStatic.audios[t])instanceof Howl)return(p=new j(h)).play(e,i,r,s,a,n),p}},stop:{value:function(){for(var t in this._creapStatic.audios)this._creapStatic.audios[t].stop()}}}).prototype=Object.defineProperties(Object.create(t.prototype),{constructor:{value:j},play:{value:function(t,e,i,r,s,a){var n=this._creap.audio;playProp="object"==typeof t?t:{delay:e||0,offset:i||0,loop:r||0,volume:s||1,pan:a||0},n.volume(playProp.volume),n.seek(playProp.offset/1e3),playProp.loop?n.loop(!0):n.loop(!1),playProp.loop>-1&&n.on(p.end,function(t){var e=0;return function(){++e>t&&(this.emit(p.complete),n.stop())}.bind(this)}.call(this,playProp.loop)),0===playProp.delay?n.play():setTimeout(function(){n.play()},playProp.delay)}},stop:{value:function(){this._creap.audio.stop()}},paused:{get:function(){return this._creap.audio._paused},set:function(t){t?this._creap.audio.pause():this._creap.audio.play()}}})}(),(O=function(t){this.type=t||"",this.timeStamp=Date.now(),this.target=null,this.currentTarget=null,this.stopped=!1}).prototype=Object.defineProperties({},{constructor:{value:O}}),function(){var t;(t=function(){this.audios={}}).prototype=Object.defineProperties({},{ref:{value:function(t,e){var i=new x(t);return i.stageX=i.rawX=e.data.global.x,i.stageY=i.rawY=e.data.global.y,i.target=e.target,i.currentTarget=e.currentTarget,i.stopPropagation=e.stopPropagation,i}}}),Object.defineProperties(x=function(t){O.call(this,t),this.stageX=0,this.stageY=0,this.rawX=0,this.rawY=0,this.stopPropagation=null},{_creapStatic:{value:new t}}).prototype=Object.defineProperties(O,{constructor:{value:x}})}(),Object.defineProperties(C=function(){},{enable:{value:function(t){}}}).prototype=Object.defineProperties({},{constructor:{value:C}}),(r=function(){this.initialize(),this.mouseX=0,this.mouseY=0}).prototype=new c}(),Object.defineProperties(createjs||{},{Sprite:{value:o},MovieClip:{value:c},Shape:{value:h},Graphics:{value:g},Bitmap:{value:v},Rectangle:{value:m},Tween:{value:w},Sound:{value:j},Text:{value:k},Event:{value:O},MouseEvent:{value:x},Touch:{value:C},extend:{value:function(t,e){return t.prototype=new e}}})}()}();